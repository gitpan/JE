JE, version 0.046

JE is a pure-Perl ECMAScript (JavaScript) engine. Here are some of its
advantages:

    - Easy to install (no C compiler necessary)
    - Compatible with Data::Dump::Streamer, so the runtime environment
      can be serialised
    - The parser can be extended/customised to support extra (or
      fewer) language features (not yet complete)
    - All JavaScript datatypes can be manipulated directly from Perl
      (they all have overloaded operators)

Here are its main weakness:
    - It's slow (well, what did you expect?).
    - It uses lots of memory.
    - It leaks memory (to be fixed).

This is still an alpha release, but it fully implements ECMAScript v3,
except for a few seldom-used features like  -0  and  Number.MAX_VALUE.

If  you have the time and the interest,  please experiment  with  this
module (or maybe even lend a hand :-). If you have any ideas as to how
the API could be improved or reworked, please e-mail me.


CHANGES IN THIS RELEASE

(See the Changes file for the long version.)

Incompatible change:  The long-deprecated JE::Object::new_constructor 
method has been deleted.
New features:  The  RegExp  constructor now has  the  lastMatch  ($&),
lastParen ($+),  leftContext  ($`),  rightContext  ($')  and $1 to $9
properties.
Bug fixes:
• RegExp.prototype.exec  now reads  lastIndex  correctly  for  global
  patterns.
• The Error constructor’s length property and those of its subclasses
  are now 1, not 0.
• Error objects without a message now inherit it from  the  prototype.
• Error  subclasses now have their internal  class  property  set  to
  Error, rather than RangeError, etc.
• The overload methods of  JE::LValue  objects no longer produce warn-
  ings if the caller has warnings disabled.
• Suppress  ‘use of goto ... is deprecated’  warnings that appear  in
  perl 5.12.
• Updated to work with perl 5.13.1’s improved $@ handling.


TO DO

- Make the parser extensible/customisable
- Add more helpful error messages
- Determine some logical way of dealing with locale settings (for
  String.prototype.localeCompare, et al.)
- Finish writing tests
- Deal with circular references
- Finish making built-in JS properties load lazily
- Finish optimising JS compiled code by turning it into Perl code
- Other optimisations


INSTALLATION

The easiest way to install this module is to use the CPAN module or
the cpan script:

    [sudo] perl -MCPAN -e "install JE"

    [sudo] cpan
    cpan> install JE

Or you can use the following:

    perl Makefile.PL
    make
    make test
    [sudo] make install


PREREQUISITES

This module requires perl 5.8.3 or higher and the following modules:
• Scalar::Util version 1.14 or later
• The TimeDate distribution (more precisely, Time::Zone, Date::Format
  and Date::Parse)
• Encode 2.08 or later

For perl versions earlier than 5.9.4 it also requires
Tie::RefHash::Weak.

Later it will probably require Unicode::Collate.

There is a slight incompatibility with perl version 5.8.3. If you try
to create a regular expression with invalid modifiers, you will get a
warning as well as a SyntaxError. This causes one of the test scripts
(parse08-regexps.t) to fail.


DOCUMENTATION

After installing, you can find documentation for this module with the 
perldoc command.

    perldoc JE

Or try using man (it's faster, in my experience):

    man JE


ACKNOWLEDGEMENTS

Thanks to Kevin Cameron [ kevin  cameron com ] for his  contributions,

to Max Maischein [ webmaster  corion net ] for  letting  me  use  his
tests,

to Andy Armstrong    [ andy        hexten net       ],
   Yair Lenga        [ yair lenga  gmail com        ],
   Alex Robinson     [ alex        solidgoldpig com ],
   Christian Forster [ boronk      boronk de        ],
   Imre Rad          [ radimre     freemail hu      ] and
   Craig MacKenna    [ craig       animalhead com   ]
for their suggestions,

and to the CPAN Testers for their helpful reports.


COPYRIGHT AND LICENCE

Copyright (C) 2007-10 Father Chrysostomos

This program is free software; you may redistribute it and/or modify
it under the same terms as perl.
